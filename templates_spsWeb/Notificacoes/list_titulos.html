{% extends 'base.html' %}
{% block content %}
{% load static %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="{% static 'css/list.css' %}">
<div class="container py-3">
  <h3 class="page-title">Títulos Criados Hoje</h3>
  <form method="get" class="row g-2 mb-3">
    <div class="col-auto">
      <select name="tipo" class="form-select form-select-sm">
        <option value="">Todos</option>
        <option value="pagar" {% if tipo == 'pagar' %}selected{% endif %}>Pagar</option>
        <option value="receber" {% if tipo == 'receber' %}selected{% endif %}>Receber</option>
      </select>
    </div>
    <div class="col-auto"><button class="btn btn-sm btn-primary" type="submit">Filtrar</button></div>
  </form>
  <div class="table-responsive">
    <table class="table table-sm align-middle">
      <thead>
        <tr>
          <th>Tipo</th>
          <th>Título</th>
          <th>Parcela</th>
          <th>Vencimento</th>
          <th>Estado</th>
        </tr>
      </thead>
      <tbody>
        {% for t in object_list %}
        <tr>
          <td>
            {% if t.tipo == 'Pagar' %}
            <span class="badge bg-danger">Pagar</span>
            {% else %}
            <span class="badge bg-success">Receber</span>
            {% endif %}
          </td>
          <td>{{ t.titu_titu }}</td>
          <td>{{ t.titu_parc }}</td>
          <td>{{ t.titu_venc }}</td>
          <td>
            {% if t.titu_aber == 'T' %}
            <span class="badge bg-secondary">Concluído</span>
            {% else %}
            <span class="badge bg-primary">Aberto</span>
            {% endif %}
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="5" class="text-center">Sem registros</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% include 'components/pagination.html' %}
</div>
{% endblock %}
